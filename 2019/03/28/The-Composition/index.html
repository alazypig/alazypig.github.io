<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"alazypig.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Function CompositionIn computer science, function composition is an act or mechanism to combine simple functions to build more complicated ones. Like the usual composition of functions in mathematics,">
<meta property="og:type" content="article">
<meta property="og:title" content="The composition">
<meta property="og:url" content="http://alazypig.github.io/2019/03/28/The-Composition/index.html">
<meta property="og:site_name" content="Live Note">
<meta property="og:description" content="Function CompositionIn computer science, function composition is an act or mechanism to combine simple functions to build more complicated ones. Like the usual composition of functions in mathematics,">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-03-28T11:19:51.000Z">
<meta property="article:modified_time" content="2024-07-15T00:57:57.375Z">
<meta property="article:author" content="Edward">
<meta property="article:tag" content="学习">
<meta property="article:tag" content="函数式编程">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://alazypig.github.io/2019/03/28/The-Composition/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>The composition | Live Note</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Live Note</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Remain optimistic</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags<span class="badge">46</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories<span class="badge">24</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives<span class="badge">179</span></a>

  </li>
        <li class="menu-item menu-item-photo">

    <a href="/photo/" rel="section"><i class="fa fa-camera fa-fw"></i>photo</a>

  </li>
        <li class="menu-item menu-item-algorithm">

    <a href="/algorithm/" rel="section"><i class="fa fa-code fa-fw"></i>algorithm</a>

  </li>
        <li class="menu-item menu-item-battery">

    <a href="/battery/" rel="section"><i class="fa fa-battery-full fa-fw"></i>battery</a>

  </li>
        <li class="menu-item menu-item-frontend">

    <a href="/frontend/" rel="section"><i class="fa fa-laptop fa-fw"></i>frontend</a>

  </li>
        <li class="menu-item menu-item-notes">

    <a href="/notes/" rel="section"><i class="fa fa-sticky-note fa-fw"></i>notes</a>

  </li>
        <li class="menu-item menu-item-stm32">

    <a href="/stm32/" rel="section"><i class="fa fa-microchip fa-fw"></i>stm32</a>

  </li>
        <li class="menu-item menu-item-ziwei">

    <a href="/ziwei/" rel="section"><i class="fa fa-yin-yang fa-fw"></i>ziwei</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

      
    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://alazypig.github.io/2019/03/28/The-Composition/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars.githubusercontent.com/u/22055633?v=4">
      <meta itemprop="name" content="Edward">
      <meta itemprop="description" content="Nothing to describe.">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Live Note">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          The composition
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2019-03-28 19:19:51" itemprop="dateCreated datePublished" datetime="2019-03-28T19:19:51+08:00">2019-03-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2024-07-15 08:57:57" itemprop="dateModified" datetime="2024-07-15T08:57:57+08:00">2024-07-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Functional-Programming/" itemprop="url" rel="index"><span itemprop="name">Functional Programming</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="Views" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="Function-Composition"><a href="#Function-Composition" class="headerlink" title="Function Composition"></a>Function Composition</h3><p><em><code>In computer science, function composition is an act or mechanism to combine simple functions to build more complicated ones. Like the usual composition of functions in mathematics, the result of each function is passed as the argument of the next, and the result of the last one is the result of the whole.  -- Wikipedia</code></em></p>
<p>Example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">compose</span> = (<span class="params">f, g</span>) =&gt; <span class="function">(<span class="params">x</span>) =&gt;</span> <span class="title function_">f</span>(<span class="title function_">g</span>(x))</span><br><span class="line"><span class="keyword">var</span> <span class="title function_">head</span> = (<span class="params">x</span>) =&gt; x[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">var</span> reverse = <span class="title function_">reduce</span>(<span class="function">(<span class="params">a, x</span>) =&gt;</span> [x].<span class="title function_">concat</span>(a), [])</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> last = <span class="title function_">compose</span>(head, reverse)</span><br><span class="line"><span class="title function_">last</span>([<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;second&#x27;</span>, <span class="string">&#x27;last&#x27;</span>]) <span class="comment">// &#x27;last&#x27;</span></span><br></pre></td></tr></table></figure>

<p>In the definition of compose, g will be executed before f, thus creating a right-to-left data stream. This is much more readable than nesting a bunch of function calls.</p>
<h3 id="Associativity"><a href="#Associativity" class="headerlink" title="Associativity"></a>Associativity</h3><p><em><code>Like many other functional programming concepts, associativity is derived from math.It is an expression in which the order of evaluation does not affect the end result provided the sequence of the operands does not get changed. -- JOSEPH REX</code></em></p>
<p>Example:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span> + (<span class="number">3</span> + <span class="number">4</span>) === <span class="number">2</span> + <span class="number">3</span> + <span class="number">4</span> <span class="comment">// true</span></span><br><span class="line"><span class="number">2</span> * (<span class="number">3</span> * <span class="number">4</span>) === <span class="number">2</span> * <span class="number">3</span> * <span class="number">4</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>Because of the grouping of calls to compose is not important, so the result is the same. This also gives us the ability to write a variadic compose.<br>Like this:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> last = <span class="title function_">compose</span>(head, reverse)</span><br><span class="line"><span class="title function_">last</span>([<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;second&#x27;</span>, <span class="string">&#x27;last&#x27;</span>]) <span class="comment">// &#x27;last&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> upperLast = <span class="title function_">compose</span>(head, reverse, toUppercase)</span><br><span class="line"><span class="title function_">upperLast</span>([<span class="string">&#x27;first&#x27;</span>, <span class="string">&#x27;second&#x27;</span>, <span class="string">&#x27;last&#x27;</span>]) <span class="comment">// &#x27;LAST&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mediaUrl = _.<span class="title function_">compose</span>(_.<span class="title function_">prop</span>(<span class="string">&#x27;m&#x27;</span>), _.<span class="title function_">prop</span>(<span class="string">&#x27;media&#x27;</span>))</span><br><span class="line"><span class="comment">// var images = _.compose(_.map(img), _.map(mediaUrl), _.prop(&#x27;items&#x27;));</span></span><br><span class="line"><span class="comment">// use the associativity</span></span><br><span class="line"><span class="keyword">var</span> images = _.<span class="title function_">compose</span>(_.<span class="title function_">map</span>(_.<span class="title function_">compose</span>(img, mediaUrl)), _.<span class="title function_">prop</span>(<span class="string">&#x27;items&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>There is no standard answer on how to composition, just make it more reusable.</p>
<span id="more"></span>

<h3 id="Tacit-programming"><a href="#Tacit-programming" class="headerlink" title="Tacit programming"></a>Tacit programming</h3><p><em><code>Tacit programming, also called point-free style, is a programming paradigm in which function definitions do not identify the arguments (or &quot;points&quot;) on which they operate. -- Wikipedia</code></em></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title function_">head</span> = (<span class="params">x</span>) =&gt; x[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">var</span> <span class="title function_">toUppercase</span> = (<span class="params">x</span>) =&gt; x.<span class="title function_">toUpperCase</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// not pointfree</span></span><br><span class="line"><span class="comment">// it used the name</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">foo1</span> = (<span class="params">name</span>) =&gt; name.<span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>).<span class="title function_">map</span>(<span class="title function_">compose</span>(toUppercase, head)).<span class="title function_">join</span>(<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"><span class="title function_">foo1</span>(<span class="string">&#x27;Edward Wang&#x27;</span>) <span class="comment">// E.W</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// pointfree</span></span><br><span class="line"><span class="keyword">var</span> foo2 = <span class="title function_">compose</span>(<span class="title function_">join</span>(<span class="string">&#x27;.&#x27;</span>), <span class="title function_">map</span>(<span class="title function_">compose</span>(toUppercase, head)), <span class="title function_">split</span>(<span class="string">&#x27; &#x27;</span>))</span><br><span class="line"><span class="title function_">foo2</span>(<span class="string">&#x27;Edward Wang&#x27;</span>) <span class="comment">// E.W</span></span><br></pre></td></tr></table></figure>

<h3 id="some-practice"><a href="#some-practice" class="headerlink" title="some practice"></a>some practice</h3><p>Use compose in <code>rambda</code>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// test data</span></span><br><span class="line"><span class="keyword">var</span> dragons = [</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">&#x27;thiny dragon&#x27;</span>, <span class="attr">height</span>: <span class="number">600</span>, <span class="attr">price</span>: <span class="number">700</span>, <span class="attr">sold</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">&#x27;tall dragon&#x27;</span>, <span class="attr">height</span>: <span class="number">6600</span>, <span class="attr">price</span>: <span class="number">1700</span>, <span class="attr">sold</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">&#x27;dangerous dragon&#x27;</span>, <span class="attr">height</span>: <span class="number">5200</span>, <span class="attr">price</span>: <span class="number">700</span>, <span class="attr">sold</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">&#x27;small dragon&#x27;</span>, <span class="attr">height</span>: <span class="number">200</span>, <span class="attr">price</span>: <span class="number">1300</span>, <span class="attr">sold</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">&#x27;fat dragon&#x27;</span>, <span class="attr">height</span>: <span class="number">400</span>, <span class="attr">price</span>: <span class="number">900</span>, <span class="attr">sold</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">name</span>: <span class="string">&#x27;gold dragon&#x27;</span>, <span class="attr">height</span>: <span class="number">500</span>, <span class="attr">price</span>: <span class="number">2000</span>, <span class="attr">sold</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. rewrite the following with the compose. Tip: the prop is curry function.</span></span><br><span class="line"><span class="comment">// var isLastSold = xs =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   var x = $.last(xs);</span></span><br><span class="line"><span class="comment">//   return $.prop(&#x27;sold&#x27;, x);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">var</span> isLastSold = $.<span class="title function_">compose</span>($.<span class="title function_">prop</span>(<span class="string">&#x27;sold&#x27;</span>), $.last)</span><br><span class="line"><span class="title function_">isLastSold</span>(dragons) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. use the compose, prop and head to get the name of first dragon.</span></span><br><span class="line"><span class="keyword">var</span> nameOfFirst = $.<span class="title function_">compose</span>($.<span class="title function_">prop</span>(<span class="string">&#x27;name&#x27;</span>), $.head)</span><br><span class="line"><span class="title function_">nameOfFirst</span>(dragons) <span class="comment">// &#x27;thiny dragon&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. refactoring the averagePrice with the average to make it composition.</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">_average</span> = (<span class="params">xs</span>) =&gt; <span class="title function_">reduce</span>(add, <span class="number">0</span>, xs) / xs.<span class="property">length</span></span><br><span class="line"><span class="comment">// var averagePrice = xs =&gt; &#123;</span></span><br><span class="line"><span class="comment">//   var p = map(x =&gt; x.price, xs);</span></span><br><span class="line"><span class="comment">//   return _average(p);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="keyword">var</span> averagePrice = $.<span class="title function_">compose</span>(_average, <span class="title function_">map</span>($.<span class="title function_">prop</span>(<span class="string">&#x27;price&#x27;</span>)))</span><br><span class="line"><span class="title function_">averagePrice</span>(dragons) <span class="comment">// 1216.6666666666667</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. write a function that =&gt; &#x27;gold dragon&#x27; =&gt; &#x27;GOLD_DRAGON&#x27;</span></span><br><span class="line"><span class="keyword">var</span> replaceSpace = <span class="title function_">replace</span>(<span class="regexp">/\W+/g</span>, <span class="string">&#x27;_&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> changeName = $.<span class="title function_">map</span>($.<span class="title function_">compose</span>(replaceSpace, toUppercase, $.<span class="title function_">prop</span>(<span class="string">&#x27;name&#x27;</span>)))</span><br><span class="line"><span class="title function_">changeName</span>(dragons) <span class="comment">//[ &#x27;THINY_DRAGON&#x27;, &#x27;TALL_DRAGON&#x27;, &#x27;DANGEROUS_DRAGON&#x27;, &#x27;SMALL_DRAGON&#x27;, &#x27;FAT_DRAGON&#x27;, &#x27;GOLD_DRAGON&#x27; ]</span></span><br></pre></td></tr></table></figure>

<h3 id="Test-Application"><a href="#Test-Application" class="headerlink" title="Test Application"></a>Test Application</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">requirejs.<span class="title function_">config</span>(&#123;</span><br><span class="line">  <span class="attr">paths</span>: &#123;</span><br><span class="line">    <span class="attr">ramda</span>: <span class="string">&#x27;https://cdnjs.cloudflare.com/ajax/libs/ramda/0.13.0/ramda.min&#x27;</span>,</span><br><span class="line">    <span class="attr">jquery</span>: <span class="string">&#x27;https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span>([<span class="string">&#x27;ramda&#x27;</span>, <span class="string">&#x27;jquery&#x27;</span>], <span class="function">(<span class="params">_, $</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> log = _.<span class="title function_">curry</span>(<span class="function">(<span class="params">tag, x</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(tag, x)</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">url</span> = (<span class="params">term</span>) =&gt;</span><br><span class="line">    <span class="string">&#x27;https://api.flickr.com/services/feeds/photos_public.gne?tags=&#x27;</span> +</span><br><span class="line">    term +</span><br><span class="line">    <span class="string">&#x27;&amp;format=json&amp;jsoncallback=?&#x27;</span></span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">img</span> = (<span class="params">url</span>) =&gt; $(<span class="string">&#x27;&lt;img /&gt;&#x27;</span>, &#123; <span class="attr">src</span>: url &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> setHtml = _.<span class="title function_">curry</span>(<span class="function">(<span class="params">tag, html</span>) =&gt;</span> $(tag).<span class="title function_">html</span>(html))</span><br><span class="line">  <span class="keyword">var</span> getJSON = _.<span class="title function_">curry</span>(<span class="function">(<span class="params">callback, url</span>) =&gt;</span> $.<span class="title function_">getJSON</span>(url, callback))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> mediaUrl = _.<span class="title function_">compose</span>(_.<span class="title function_">prop</span>(<span class="string">&#x27;m&#x27;</span>), _.<span class="title function_">prop</span>(<span class="string">&#x27;media&#x27;</span>))</span><br><span class="line">  <span class="keyword">var</span> mediaToImg = _.<span class="title function_">compose</span>(img, mediaUrl)</span><br><span class="line">  <span class="keyword">var</span> images = _.<span class="title function_">compose</span>(_.<span class="title function_">map</span>(mediaToImg), _.<span class="title function_">prop</span>(<span class="string">&#x27;items&#x27;</span>))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> renderImages = _.<span class="title function_">compose</span>(<span class="title function_">setHtml</span>(<span class="string">&#x27;body&#x27;</span>), images)</span><br><span class="line">  <span class="keyword">var</span> app = _.<span class="title function_">compose</span>(<span class="title function_">getJSON</span>(renderImages), url)</span><br><span class="line"></span><br><span class="line">  <span class="title function_">app</span>(<span class="string">&#x27;car&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag"># 学习</a>
              <a href="/tags/%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B/" rel="tag"># 函数式编程</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/03/27/The-currying/" rel="prev" title="The Currying">
      <i class="fa fa-chevron-left"></i> The Currying
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/03/29/Maybe/" rel="next" title="Maybe">
      Maybe <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-Composition"><span class="nav-number">1.</span> <span class="nav-text">Function Composition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Associativity"><span class="nav-number">2.</span> <span class="nav-text">Associativity</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tacit-programming"><span class="nav-number">3.</span> <span class="nav-text">Tacit programming</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#some-practice"><span class="nav-number">4.</span> <span class="nav-text">some practice</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Test-Application"><span class="nav-number">5.</span> <span class="nav-text">Test Application</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Edward"
      src="https://avatars.githubusercontent.com/u/22055633?v=4">
  <p class="site-author-name" itemprop="name">Edward</p>
  <div class="site-description" itemprop="description">Nothing to describe.</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">179</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">46</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/alazypig" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;alazypig" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2016 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-bug"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Edward Wang</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="Total Visitors">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="Total Views">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="//cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
<script src="//cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script>
<script src="/js/algolia-search.js"></script>














  

  

  

</body>
</html>
